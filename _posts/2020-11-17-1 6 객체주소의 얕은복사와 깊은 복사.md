---
title : "6.객체주소의 얕은복사와 깊은 복사"
categories:
  - Python(문법)
# tags:
#  - Python
date : 2020-11-17
---

변수를 어떤 박스안에 넣거나 뺄 때 주소와 복사가 필요하다. 

- 주소 : 모든 변수가 가지고 있는 저장된 메모리 어드레스, 각 개체는 고유의 주소가 있음  
- 복사 : 변수의 고유 주소를 공유하거나 다른이름으로 저장하여 사용하는 것  
  
얕은 복사  
--- 

간접적으로 박스의 주소를 복사하는 것, 원본이 바뀌면 복사한 내용도 바뀐다.  

 ```python 
 >>> a=[1,2,3]
 >>> b=a
 >>> a[0]=38
 >>> a
 [38, 2, 3]
 >>> b
 [38, 2, 3]                        //a를 변경하면 b도 변경됨
 >>> id(a),id(b)
 (1769422460224, 1769422460224)   //두개의 주소가 같음
 ```
깊은 복사  
--- 

원본을 복사해서 복사본을 따로 만드는 것, 원본을 변경해도 복사본은 바뀌지 않는다.  

```python 
>>> a=[1,2,3]
>>> b=a[:]
>>> id(a),id(b)
(1769422460928, 1769382632320)   //두개의 주소가 다름
>>> a[0]=38
>>> print(a,b)                  //a를 변경해도 b는 변경되지 않음
[38, 2, 3] [1, 2, 3]
>>> 
```

- 이외에도 copy 함수를 import해서 copy()혹은 deepcopy()를 통해 얕은복사, 깊은 복사를 할 수 있다.  

```python
>>> a=[[1,2],[3,4]]
>>> b=copy.copy(a)               //얕은 복사
>>> c=copy.deepcopy(a)           // 깊은 복사
>>> a[1].append(5)
>>> print(a,b,c)
[[1, 2], [3, 4, 5]] [[1, 2], [3, 4, 5]] [[1, 2], [3, 4]] //얕은 복사한 b는 같이 변경, 깊은 복사한 c는 변경되지 않음
>>> id(a),id(b),id(c)
(1769422460928, 1769382764672, 1769422462336)  //주소가 a,b가 같을 줄 알았는데..copy 함수는 새로운 주소에 할당하는듯?
```
