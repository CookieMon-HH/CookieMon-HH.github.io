---
title : "9.가변형과 불변형"
categories:
  - Python(문법)
# tags:
#  - Python
date : 2020-11-20
---

파이썬에서는 값을 실수로 변경하고 하는 경우 불변형 데이터, 지속적으로 데이터의 추가 삭제가 필요한 경우 가변형 데이터를 사용한다.  
가변형 데이터와 불변형 데이터에는 어떤것들이 있고 어떤 특징을 가지는지 알아보자  
  
  
| 형식 | 설명 | 종류 |
|:--:|:---|:--:|
| 가변형 | 변경이 자유로운 형식 | 리스트,딕셔너리 |
| 불변형 | 값을 초기화하면 변경이 불가능한 형식 <br> 새로운 값을 저장한 주소로 변경만 되고 실제 값이 변경되는 것은 아님 | 정수형, 실수형, 문자열, 튜플 |

가변형 데이터는 아래와 같이 값을 자유롭게 변경이 가능하다.

```python 
>>> list1=[1,2,3]
>>> list1.append(4)
>>> list1.remove(2)
>>> list1
[1, 3, 4]        #값의 생성 또는 삭제가 가능
```

불변형 데이터는 값을 초기화하면 변경이 불가능 하다.  
우리는 정수형,문자열들의 값을 정의하고 수정을 해왔지만 실제로는 해당 값이 수정된 것이 아니라 새로운 값이 메모리상에 새로 저장된 것이다.  

```python
#불변형 데이터 예시
>>> a="python"
>>> id(a)
2956621587120  #처음 a에 할당된 주소값
>>> a="study"
>>> id(a)
2956622539952  #a의 값을 변경하면 새로운 주소에 저장

#가변형 데이터 예시
2956622432128
>>> list2=[3,4,5]
>>> id(list2)
2956622600128
>>> list2.append(6)
>>> id(list2)
2956622600128  #불변형 데이터는 값을 변경해도 주소가 달라지지 않음
```

불변형의 인자전달  
파이썬에서 인자(입력되는 매개변수)는 참조(reference)를 이용해 전달하는데 변경 가능한 변수일때와 불가능한 변수일 때 처리방식이 다르다.  
함수 외부에 있는 불변형식 (정수형,실수형..)의 경우 함수 내부에서 접근할 때 읽기만 가능하다.  

아래와 같이 Function이라는 함수안에 X가 정의되어있으면 함수 내부의 X값을 사용하고, Y처럼 함수 내부에 없으면 전역변수에서 읽어와서 사용한다.  
  
Namespace : Function　　　　Namespace : global  
　　X　->　1　　　　　　　　　　　　X=10  
　　Y　------------------------>　Y=20  

가변형 데이터의 경우 함수의 인자로 전달되면 내부에서 값을 변경했을 때 외부에서도 그 결과를 그대로 볼 수 있다.  
  
  내부                      외부  
 JAM -> HAM               HAM 으로 변경 (똑같이 적용)

따라서 가변형 데이터의 원본을 보호하려면 값을 복사해서 사용해야 한다.  

```python
>>> def change(x):
      	x[0] = 'H'
	
>>> jam = ['J','A','M']  #가변형 데이터 리스트를 정의
>>> change(jam)
>>> jam
['H', 'A', 'M']      #함수 내부로 들어가서 H로 변경됨

>>> def change2(x):
      	x=x[:]       #함수 내부에서 복사본을 사용
	      x[0]='H'
	      return x
>>> jam=['J','A','M']
>>> change2(jam)
['H', 'A', 'M']      #함수 내부에서 복사본의 값은 변경됨
>>> jam
['J', 'A', 'M']      #원본은 변경되지 않음
```


