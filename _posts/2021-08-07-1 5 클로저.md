---
title : "5.클로저"
categories:
  - Java Flow
# tags:
#  - Java
date : 2021-08-07
---

클로저  
--- 

클로저란 
닫힘/폐쇄/완결성 

함수와 그 함수가 선언될 당시의 lexical environment의 combination (두개가 만났을 때 새로운 현상이 나오는 것)

ex) 실행 컨텍스트 A 내부에서 함수 B를 선언한 상황에서 실행컨텍스트A와 합수 B가 콤비가 되어 무언가를 한다.
이때, environment Record 말고 outerEnvironmentReference만 관여한다.
(B의 outerEnvironmentReference는 A의 environemntREcord를 참조)

![image](https://user-images.githubusercontent.com/71579659/128590883-5ed4fc70-09bd-443a-a997-f5b11db46d74.png)

![image](https://user-images.githubusercontent.com/71579659/128590993-0a9231b4-df54-42c4-9941-b23dd0bf6ce6.png)


![image](https://user-images.githubusercontent.com/71579659/128591332-dd961b66-42b8-41e4-83dc-999bd4dff871.png)
inner가 return되면서 outer2에 담김  
이중 a는 inner에서 참조하고 있으니 참조카운트가 남아있어서 지워지지 않는다.  

![image](https://user-images.githubusercontent.com/71579659/128591341-59f740f6-892e-462a-9c3f-98a35bd0c8e3.png)


![image](https://user-images.githubusercontent.com/71579659/128591381-bd47eaf3-5e1f-431d-91a4-aaa31ac96773.png)

![image](https://user-images.githubusercontent.com/71579659/128591443-76c14d68-3d50-482a-90b9-10f40abec408.png)






